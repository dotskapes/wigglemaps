<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Map</title>
    <script type="text/javascript" src="../js/jquery-1.7.min.js"></script>
    <script type="text/javascript" src="../js/jquery.hotkeys.js"></script>
    <script type="text/javascript" src="../js/jquery.mousewheel.js"></script>

    <script type="text/javascript" src="../webgl_maps.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/screen.css" />
    <script type="text/javascript">
      $ (document).ready (function () {
	engine.center (-55, -10);
	$.ajax ({
	    url: 'http://zk.healthscapes.org/map/static/temp/br_precip.json',
	    dataType: 'json',
	    success: function (data) {
		br_precip = GeoJSON (data);
		engine.scene.push (br_precip);
		
		var current = null;
		engine.sel.select (function (box) {
		    if (current)
			current.style ('fill', null);
		    current = br_precip.search (box);
		    current.style ('fill', new Color (204, 85, 0, 255));
		});
		engine.select (true);
	    }
	});
    });
</script>

  </head>
  <body>
    <p style="color: white; position: absolute; z-index: 2; bottom: 10px; left: 10px;">FPS: <span id="fps">0</span></p>
    <div style="padding: 10px; background-color: white;">
    Range Searching
    </div>
    <div id="container"></div>
  </body>
</html>
