<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Polygon with Hole</title>
    <script type="text/javascript" src="../js/utils/jquery-1.7.min.js"></script>
    <script type="text/javascript" src="../wigglemaps.min.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/screen.css" />
    <script type="text/javascript">
    wiggle.ready (function () {
	var x0 = 10;
	var y0 = 10;

	var map = new wiggle.Map ();
	map.center (x0, y0);
	
	var poly = new wiggle.layer.PolygonLayer ();

	var outer = [];
	var inner = [];

	for (var i = 0; i <= 64; i ++) {
	    var theta = (i / 64) * Math.PI * 2;
	    var x = Math.cos (theta);
	    var y = Math.sin (theta);

	    outer.push ([x0 + x * 10, y0 + y * 10]);
	}

	for (var i = 64; i >= 0; i --) {
	    var theta = (i / 64) * Math.PI * 2;
	    var x = Math.cos (theta);
	    var y = Math.sin (theta);

	    inner.push ([x0 + x * 5, y0 + y * 5]);
	}

	var okay = false;
	while (!okay) {
	    try {
		poly.append ({
		    geom: [[
			outer,
			inner
		    ]]
		});
		okay = true;
	    }
	    catch (e) {
	    }
	}
	
	map.append (poly);
    });
</Script>

  </head>
  <body>
  </body>
</html>
